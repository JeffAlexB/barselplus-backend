<!-- fragments/pregnancy.html -->
<div xmlns:th="http://www.thymeleaf.org">

  <div th:fragment="list">
    <h3 class="mb-3">Pregnancies</h3>

    <div th:if="${#lists.isEmpty(pregnancies)}" class="alert alert-info">
      No pregnancies found for this patient.
    </div>

    <div class="row" th:if="${!#lists.isEmpty(pregnancies)}">
      <div class="col-md-6 col-lg-4 mb-3" th:each="p : ${pregnancies}">
        <div class="card h-100">
          <div class="card-body">
            <h5 class="card-title">
              Pregnancy starting <span th:text="${p.lastMens}">testing</span>
            </h5>
            <p><strong>Due Date:</strong> <span th:text="${p.dueDate}">testing</span></p>
            <p><strong>Multiple Fetuses:</strong> <span th:text="${p.multipleFetus} ? 'Yes' : 'No'">testing</span></p>
          </div>
          <div class="card-footer bg-transparent border-0">
            <button
                    class="btn btn-outline-primary w-100"
                    th:attr="hx-get=@{'/pregnancies/detail/' + ${p.pregnancyId}}"
                    hx-target="#dynamicContent"
                    hx-swap="innerHTML"
                    hx-push-url="true">
              View details
            </button>
          </div>
        </div>
      </div>
    </div>

    <div class="mt-3">
      <a href="/home" class="btn btn-outline-secondary">Back to Dashboard</a>
    </div>
  </div>
</div>
